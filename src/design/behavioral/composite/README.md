# Composite パターン

## 概要

Compositeパターンは、オブジェクトを木構造で構築することにより、個々のオブジェクト（葉）とその組み合わせ（コンテナー）を統一的に扱うことができるデザインパターン。  
これにより、クライアントは複数オブジェクトと個々のオブジェクトを区別することなく同じインターフェイスを通じてそれらを扱うことができる。
※複合されたクラスを使用することもできるし、個々のクラスもクライアントは使用できる

## いつ使用すべきか

- オブジェクトの階層構造が、全体~部分の関係を持つ場合。
- クライアントが**複合オブジェクトと個々のオブジェクト**を同等に扱いたい場合。

## この設計パターンで使われる言葉

- 葉（個々のオブジェクト）
- 葉の組み合わせ（コンテナー）

## メリット

- クライアントがシンプルになり、個別のオブジェクトとその組み合わせを同じように扱える。
- 新しい種類のコンポーネントを追加しやすい。

## デメリット

- Compositeパターンを過度に使用すると、システム全体が過度に一般化され、オーバーヘッドが増える可能性がある。

## Compositeパターンの具体的な使用シナリオ


1. **グラフィックシステム**: あるグラフィカルなオブジェクトが点、線、円などの基本的な要素と、それらの要素から構成される図形や絵といった複合的な要素を持っている場合、このパターンは非常に役立ちます。個々の基本的な要素や複合的な要素を同じ方法で描画や移動のような操作を行うために使用できます。

2. **ファイル・ディレクトリシステム**: たとえば、ファイルやディレクトリを表すクラスがあるとします。ファイルは内容を持ち、ディレクトリはファイルや他のディレクトリを持つことができます。この場合、ファイルやディレクトリを一元的に扱いたいとき（たとえば、そのサイズを取得するときや、それを表示するとき）にCompositeパターンを使用できます。

3. **組織図**: 企業の組織図を考えてみましょう。各職員や部門は、さらに他の職員や部門を持っていることがあります。CEOの下には部門長がおり、部門長の下にはチームリーダーやスタッフがいます。このような階層的な構造を表現する場合、Compositeパターンを使用して、各要素（職員や部門）を統一的に扱うことができます。

これらのシナリオでは、階層的な構造を持つオブジェクト群を統一的に扱いたいときにCompositeパターンが役立ちます。基本的な要素（葉）とそれを含む複合的な要素を、同じインターフェイスを通じて操作することが目的です。