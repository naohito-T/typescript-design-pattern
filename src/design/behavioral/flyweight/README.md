# Flyweightパターン

## 概要

Flyweightとは、英語で「フライ級」を意味する単語。  
Flyweightパターンは、多くの**細かなオブジェクトを効率的に共有してメモリ使用量を削減するため**のデザインパターン。  
このパターンは、共通のデータを共有し、固有のデータだけを個別に持つことでオブジェクトのメモリ消費を削減する。  
Flyweightパターンでは、軽量化されるべきインスタンスの生成や管理を行うFactoryクラスを作成し、 軽量化されるべきインスタンスは、このFactoryクラスを介して取得するようにします。

## いつ使用すべきか

- 大量の似たようなオブジェクトが生成されるとき
- DBアクセサーなど。
- オブジェクトの大部分の状態が共有可能な場合
- オブジェクトの多数の共有により、メモリの使用量が大きく削減される場合

## メリット

- メモリ使用量の大幅な削減が期待できます。
- 大量のオブジェクトを効率的に管理できます。

## デメリット

- システムが複雑になる可能性があります。
- 共有を過度に行うと、オブジェクトの状態管理が難しくなることがあります。

## Flyweightパターンの具体的な使用シナリオ

- 文字スタイルの共有
  簡単な例として、テキストドキュメント内の文字のスタイル（例: フォントや色）を考えます。多数の文字が同じスタイルを持つ場合、それぞれの文字にスタイル情報を保持させるのは非効率的です。代わりに、共通のスタイル情報を共有することでメモリ使用量を削減できます。