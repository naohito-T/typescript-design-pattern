# Decorator パターン

## 概要

Decoratorパターンは、オブジェクトの機能を動的に追加するためのデザインパターンです。このパターンは、**サブクラスを作成することなくオブジェクトの機能を拡張する**方法を提供する。

## いつ使用すべきか

- 既存のオブジェクトに新しい機能や責任を動的に、そして透明に追加したいとき。
- システムが多数の独立した拡張をサポートしていて、これらの拡張を組み合わせて多様な機能を生成したいとき。
- オブジェクトに動的に機能を追加したり、特定の処理を前後に追加したりする場合にDecoratorパターンが役立つ

## メリット

- クラスのサブクラス化を避けることができる。
- 機能を動的に追加または削除することが容易。
- 単一責任の原則に従い、各デコレータがひとつの機能に集中することができる
- オブジェクトの機能の組み合わせを柔軟に変更できる。

## デメリット

- システムが多くの小さなオブジェクトで満たされる可能性がある。
- 複雑さが増す可能性があり、新しいデコレータが追加されるたびにデコレータのスタックを理解するのが難しくなることがある。

## Decoratorパターンの具体的な使用シナリオ

1. GUIツールキット
    たとえば、ウィンドウやテキストボックスといった基本的なウィジェットに、スクロールバーや枠線などの機能を動的に追加Wしたい場合。Decoratorパターンを使用すると、既存のウィジェットを変更せずに新しい機能を追加することが可能。

2. JavaのI/Oクラス
   Javaのjava.ioパッケージはDecoratorパターンの良い例です。BufferedReader, FileInputStreamなどの多数のストリームクラスがあり、これらは組み合わせて使用されます。

3. Webフレームワークのミドルウェア
   あるリクエストを処理する際に、ログの取得、認証の確認、データのバリデーションなど、さまざまな段階を経て処理を行う場合。Decoratorパターンを使うことで、これらの各段階を個別のデコレータとして実装し、動的に組み合わせて使用することが可能。